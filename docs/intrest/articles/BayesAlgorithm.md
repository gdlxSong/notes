---
title: "贝叶斯公式推导详解"
---


>把酒祝东风，且共从容。 

![bayes](/images/bayes.jpg)
>  托马斯·贝叶斯Thomas Bayes（1702-1763）在世时，并不为当时的人们所熟知，很少发表论文或出版著作，与当时学术界的人沟通交流也很少，用现在的话来说，贝叶斯就是活生生一民间学术“屌丝”，可这个“屌丝”最终发表了一篇名为“An essay towards solving a problem in the doctrine of chances”，翻译过来则是：机遇理论中一个问题的解。你可能觉得我要说：这篇论文的发表随机产生轰动效应，从而奠定贝叶斯在学术史上的地位。事实上，上篇论文发表后，在当时并未产生多少影响，在20世纪后，这篇论文才逐渐被人们所重视。对此，与梵高何其类似，画的画生前一文不值，死后价值连城。


## 贝叶斯定理

要理解贝叶斯公式，首先要知道条件概率公式、全概率公式的概念，因为贝叶斯公式就是由它俩得来的。
所以在引出贝叶斯定理之前，先学习几个定义：

### 边缘概率（又称先验概率）
边缘概率（又称先验概率），某个事件发生的概率。边缘概率是这样得到的：在联合概率中，把最终结果中那些不需要的事件通过合并成它们的全概率，而消去它们（对离散随机变量用求和得全概率，对连续随机变量用积分得全概率），这称为边缘化（marginalization），比如A的边缘概率表示为P(A)，B的边缘概率表示为P(B)。 

### 联合概率
联合概率表示两个事件共同发生的概率。A与B的联合概率表示为P(A∩B)或者P(A,B)。

对于离散型随机变量，联合概率分布可以以列表的形式表示，也可以以函数的形式表示；

![bayes](/images/lianhefenbu.png)
对于连续型随机变量，联合概率分布通过一非负函数的积分表示。

对于二维连续随机向量，设X和Y为连续型随机变量，其联合概率分布，或连续型随机变量 *(X,Y)* 的概率分布 *F(x,y)* 通过一非负函数 *f(x,y)>=0* 的积分表示，称函数 *f(x,y)* 为联合概率密度。

![bayes](/images/lianhefenbu2.png)
### 条件概率

**P(A|B) = P(AB) / P(B)**


条件概率（又称后验概率），事件A在另外一个事件B已经发生条件下的发生概率。条件概率表示为P(A|B)，读作“在B条件下A的概率”,。


P(AB) 是事件A发生，且事件B发生的概率，事件范围还是整个样本空间；A，B没有先后次序之分，其中的AB即为AB两个空间相交的部分，这部分也可以视为在B空间上，A也出现了，其实这个公式P(AB)是以Ω为样本空间的，但是P(A|B)是以B为样本空间的，
P(B | A) 是事件A先发生，B发生的概率，也就是说P(B | A)大于等于P(AB)。一定要注意是事件A先发生，因为事件A的发生缩小了样本空间。
P(AB)：

![](/images/bayes.png)

而P(A|B)的样本空间是B：

![](/images/bayespp.png)



### 乘法定理
P(AB) = P( B | A)P(A)， P(AB) = P( A | B)P(B)

用上述的图片就可以很容易的理解，事件A和事件B同时发生的概率就等于事件B在事件A的样本空间下发生的概率乘以事件A在整个样本空间下发生的概率。
因此，贝叶斯公式的雏形

因此可以推导**贝叶斯公式的雏形**:

**P(A|B) = P(B/A)\*P(A)/P(B)**

### 全概率公式
设E为试验A的样本空间，B1，B2…Bn为A的一组事件，即B系列事件瓜分了A且各个B不相互重叠（互不相容），则全概率公式可以举例推导为：
当B1+B2+B3=A时：
```bash
P(A)
= P(AA)
=P[A(B1+B2+B3)]
=P(AB1+AB2+AB3)
=P(AB1)+P(AB2)+P(AB3)，（因为P(AB)=P(A|B)P(B)）
=P(A|B1)P(B1)+ P(A|B2)P(B2) + P(A|B3)P(B3)
```

即：**P(A) = P(B1) P(A|B1) + P(B2)P(A|B2) + …**

### 贝叶斯公式：
由条件概率和全概率公式可得：

![](/images/bayesal.png)

