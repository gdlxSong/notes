---
title: HEAP
sidebar_position: 5
---


定义： 堆就是用数组实现的二叉树。

> 完全二叉树：若设二叉树的深度为h，除第 h 层外，其它各层 (1～h-1) 的结点数都达到最大个数，第 h 层所有的结点都连续集中在最左边，这就是完全二叉树。


### 应用

- 堆排序
- 优先队列
- 定时器
- 在一个乱序的序列中找到某一个区间的元素



## 分类

1. 按照完全二叉树的 度：
    - 二叉堆
    - 四叉堆
    - N 叉堆
2. 按照堆的元素大小
    - 最小堆： 对于任意父节点，其子节点都大于父节点
    - 最大堆： 对于任何父节点，其子节点都小于父节点

> N 取值越大也就意味着 堆中的元素越靠近堆头部分布。





### heap insert

> 建堆逐个insert属于蛮力算法，可以用Floyd算法，用下滤遍历一遍内部节点? 这句话如何理解？

对于建min堆，插入元素 遵循 `min-heap` 约束，小的元素不断上浮，这是实现优先队列的关键。

![dsa-min-heap-insert.jpg](/images/dsa-min-heap-insert.jpg)


### heap pop

pop root 节点之后，使用堆尾元素填充，然后做下沉操作。

![dsa-min-heap-pop.jpg](/images/dsa-min-heap-pop.jpg)






N叉堆（N>2）相比较二叉堆，优势有两点：
- 上推节点的操作更快。假如最下层某个节点的值被修改为最小，同样上推到堆顶的操作，N叉堆需要的比较次数只有二叉堆的  倍。
- 对缓存更友好。二叉堆对数组的访问范围更大，更加随机，而N叉堆则更集中于数组的前部，这就对缓存更加友好，有利于提高性能。



### 堆排序















